<?phpnamespace Controller;use Model\announcementModel;include_once '../Model/announcementModel.php';class announcementController{  public function createAnnouncement()  {      $data = [];      $errors = [];      $title = $_POST['Title'];      $Description = $_POST['Description'];      $fileImage = $_FILES['imageUpload'];      $datePosted = date('Y-m-d H:i:s');      if (empty($title)){          $errors['error'] = 'title is required';      }      if (empty($Description)){          $errors['error'] = 'Description is required';      }      // handle na file upload      $fileDir = '../../UploadImges/';      $fileName = basename($_FILES['imageUpload']['name']);      $upLoadPath = $fileDir . $fileName;      //move uploaded file         move_uploaded_file($fileImage['tmp_name'], $upLoadPath);      if (!empty($errors)){          $data['success'] = false;          $data['errors'] = $errors;          echo json_encode($data);      }else{          $data['success'] = true;          $model = new announcementModel();          $model->createAnnouncement($title,$Description,$fileName,$datePosted);      }  }    public function displayAnnouncementList()    {        $model = new announcementModel();        $data = $model->displayAnnouncement();        if ($data) {            $tr = '';            foreach ($data as $row) {                $shortString = substr($row[2], 0, 10) . "...";                // Correct the PHP and HTML mix here                $tr .= '            <tr>                <td>';                // Check if there is an image, else display "No Image Attach"                if ($row[1] === null || $row[1] == '') {                    $tr .= 'No Image Attach';                } else {                    $tr .= '<img style="height: 50px; width: 50px;" class="img-thumbnail rounded-circle" src="../../UploadImges/' . $row[1] . '">';                }                // Continue constructing the row                $tr .= '                </td>                <td>' . $row[0] . '</td>                <td>' . $row[3] . '</td>                <th>' . $shortString . '</th>                <td>                    <button id="btn_archive" value="' . $row[6] . '" class="btn btn-outline-danger">archive</button>                    <button value="' . $row[6] . '" id="btn_update" class="btn btn-outline-primary">update</button>                </td>            </tr>            ';            }            echo $tr;        } else {            echo "No Announcement Available";        }    }    public function updateAnnouncement()    {        if (isset($_POST['id'])){            $id = $_POST['id'];            $model = new announcementModel();            $model->UpdateAnnouncement($id);        }else{            echo "No Id";        }    }    public function saveAnnouncemewnt()    {        $id = $_POST['id'];        $title = $_POST['TitleSave'];        $description =  $_POST['DescreptionSave'];        if (isset($_POST['id'])){            $model = new announcementModel();            $model->saveAnnouncement($title,$description,$id);        }else{            echo "No Id";        }    }    public function archiveAnnouncement()    {        $id = $_POST['id'];        if (isset($id)){            $model = new announcementModel();            $model->archiveAnnouncement($id);        }    }}if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['action'])){    $conroller = new announcementController();    switch ($_POST['action']){        case 'createAnnouncement':            $conroller->createAnnouncement();            break;        case 'updateStudent':            $conroller->updateAnnouncement();            break;        case 'saveAnncement':            $conroller->saveAnnouncemewnt();            break;        case 'archive':            $conroller->archiveAnnouncement();            break;    }}